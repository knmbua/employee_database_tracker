{"version":3,"file":"menu.js","sourceRoot":"","sources":["../../src/lib/menu.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,eAAe,CAAC;AAEvB,OAAO,EAAE,iBAAiB,EAAE,WAAW,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,YAAY,CAAC;AAE7F,IAAI,WAAW,GAAG,KAAK,CAAC;AAExB,MAAM,CAAC,KAAK,UAAU,WAAW;IAC7B,MAAM,gBAAgB,GAAG,MAAM,iBAAiB,EAAE,CAAC;IACnD,MAAM,UAAU,GAAG,MAAM,WAAW,EAAE,CAAC;IACvC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QAC5E;YACI,OAAO,EAAE,8BAA8B;YACvC,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,EAAE;gBAC5C,OAAO;oBACH,IAAI,EAAE,aAAa,CAAC,IAAI;oBACxB,KAAK,EAAE,aAAa,CAAC,EAAE;iBAC1B,CAAA;YACL,CAAC,CAAC;SACL;QACD;YACI,OAAO,EAAE,wBAAwB;YACjC,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;gBAChC,OAAO;oBACH,IAAI,EAAE,OAAO,CAAC,KAAK;oBACnB,KAAK,EAAE,OAAO,CAAC,EAAE;iBACpB,CAAA;YACL,CAAC,CAAC;SACL;QACD;YACI,OAAO,EAAE,sBAAsB;YAC/B,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,OAAO;SAChB;QACD;YACI,OAAO,EAAE,qBAAqB;YAC9B,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,OAAO;SAChB;KACJ,CAAC,CAAC;IAEH,MAAM,cAAc,CAAC,aAAa,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;AACxE,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,gBAAgB;IAClC,MAAM,iBAAiB,GAAG,MAAM,eAAe,EAAE,CAAC;IAClD,OAAO,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AACrC,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,QAAQ;IAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAClD,WAAW,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,MAAM,EAAE,cAAc,EAAE,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QAC7C,OAAO,EAAE,yBAAyB;QAClC,IAAI,EAAE,gBAAgB;QACtB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE;YACL;gBACI,IAAI,EAAE,oBAAoB;gBAC1B,KAAK,EAAE,gBAAgB;aAC1B;YACD;gBACI,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,WAAW;aACrB;YACD;gBACI,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,CAAC;aACX;SACJ;KACJ,CAAC,CAAC;IAEH,IAAI,cAAc,KAAK,CAAC,EAAE,CAAC;QACvB,MAAM,cAAc,EAAE,CAAC;QACvB,QAAQ,EAAE,CAAC;IACf,CAAC;AACL,CAAC;AAED,QAAQ,EAAE,CAAC","sourcesContent":["import inquirer from 'inquirer';\r\nimport 'console.table';\r\n\r\nimport { getAllDepartments, getAllRoles, getAllEmployees, createEmployee } from './query.js';\r\n\r\nlet showWelcome = false;\r\n\r\nexport async function addEmployee() {\r\n    const departmentsArray = await getAllDepartments();\r\n    const rolesArray = await getAllRoles();\r\n    const { department_id, role_id, first_name, last_name } = await inquirer.prompt([\r\n        {\r\n            message: 'Please select the department',\r\n            name: 'department_id',\r\n            type: 'list',\r\n            choices: departmentsArray.map((departmentObj) => {\r\n                return {\r\n                    name: departmentObj.name,\r\n                    value: departmentObj.id\r\n                }\r\n            })\r\n        },\r\n        {\r\n            message: 'Please select the role',\r\n            name: 'role_id',\r\n            type: 'list',\r\n            choices: rolesArray.map((roleObj) => {\r\n                return {\r\n                    name: roleObj.title,\r\n                    value: roleObj.id\r\n                }\r\n            })\r\n        },\r\n        {\r\n            message: 'Enter the first name',\r\n            name: 'first_name',\r\n            type: 'input'\r\n        },\r\n        {\r\n            message: 'Enter the last name',\r\n            name: 'last_name',\r\n            type: 'input'\r\n        }\r\n    ]);\r\n\r\n    await createEmployee(department_id, role_id, first_name, last_name);\r\n}\r\n\r\nexport async function showAllEmployees() {\r\n    const employeeRowsArray = await getAllEmployees();\r\n    console.table(employeeRowsArray);\r\n}\r\n\r\nexport async function showMenu() {\r\n    if (!showWelcome) {\r\n        console.log('Employee Management System -----\\n');\r\n        showWelcome = true;\r\n    }\r\n\r\n    const { optionFunction } = await inquirer.prompt({\r\n        message: 'Please select an option',\r\n        name: 'optionFunction',\r\n        type: 'list',\r\n        choices: [\r\n            {\r\n                name: 'Show All Employees',\r\n                value: showAllEmployees\r\n            },\r\n            {\r\n                name: 'Add Employee',\r\n                value: addEmployee\r\n            },\r\n            {\r\n                name: 'Quit',\r\n                value: 0\r\n            }\r\n        ]\r\n    });\r\n\r\n    if (optionFunction !== 0) {\r\n        await optionFunction();\r\n        showMenu();\r\n    }\r\n}\r\n\r\nshowMenu();"]}